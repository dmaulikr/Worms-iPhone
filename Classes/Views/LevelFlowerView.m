////  LevelFlowerView.m//  LateWorm////  Created by Susan Surapruik on 12/14/09.//  Copyright 2009 __MyCompanyName__. All rights reserved.//#import "LevelFlowerView.h"@implementation LevelFlowerView@synthesize _showFlower, _showMoves, _firstTime;- (id)initWithFrame:(CGRect)frame {    if (self = [super initWithFrame:frame]) {        [self initializeView];		    }    return self;}- (id)initWithCoder:(NSCoder*)coder {	if ((self = [super initWithCoder:coder])) {		[self initializeView];	}		return self;}- (void)drawRect:(CGRect)rect {    // Drawing code}- (void) initializeView {	self.backgroundColor = [UIColor clearColor];		_firstTime = YES;		_flowerImageView = [[UIImageView alloc] initWithFrame:CGRectMake(0,0,70,70)];	[self addSubview:_flowerImageView];		_numberImageView = [[UIImageView alloc] initWithFrame:CGRectMake(42,40,30,30)];	[self addSubview:_numberImageView];		_leastMovesLabel = [[UILabel alloc] initWithFrame:CGRectMake(17, 47, 80, 24)];	_leastMovesLabel.backgroundColor = [UIColor clearColor];	_leastMovesLabel.font = [UIFont fontWithName:@"HelveticaNeueLTStd-Hv" size:18.0];	_leastMovesLabel.textAlignment = NSTextAlignmentCenter;	[self addSubview:_leastMovesLabel];}- (void) setLevel:(unsigned)level withMoves:(unsigned)moves {	NSString *flowerName;		if (level < 9) {		flowerName = [NSString stringWithFormat:@"flower_0%d", level+1];	} else {		flowerName = [NSString stringWithFormat:@"flower_%d", level+1];	}		if (_showFlower) {		flowerName = [flowerName stringByAppendingString:@"_on"];	} else {		flowerName = [flowerName stringByAppendingString:@"_off"];	}		if (_showMoves) {		if (_firstTime) {			_numberImageView.image = [UIImage imageNamed:@"number_bg_on"];			_leastMovesLabel.text = [NSString stringWithFormat:@"%d", moves];			_leastMovesLabel.textColor = [UIColor whiteColor];		}	} else {		_numberImageView.image = [UIImage imageNamed:@"number_bg_off"];		_leastMovesLabel.text = @"--";		_leastMovesLabel.textColor = [UIColor colorWithRed:60/255.0 green:71/255.0 blue:14/255.0 alpha:1.0];	}		_flowerImageView.image = [UIImage imageNamed:flowerName];}- (void) setNumberImage:(NSString*)imageName {	_numberImageView.image = [UIImage imageNamed:imageName];}@end